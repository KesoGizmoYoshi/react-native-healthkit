<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>@kingstinct/react-native-healthkit</title>
  <meta name="description" content="Access HealthKit seamlessy and effortlessly with Expo and React Native">
  <meta name="keywords" content="TypeScript, HealthKit, iOS, React Native">
  <meta name="author" content="Kingstinct">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta property="og:title" content="@kingstinct/react-native-healthkit" />
  <meta property="og:url" content="https://kingstinct.com/react-native-healthkit" />
  <meta property="og:image" content="./images/heart-data.jpg" />
  <meta name="twitter:title" content="@kingstinct/react-native-healthkit">
  <meta name="twitter:description" content="Access HealthKit seamlessy and effortlessly with Expo and React Native">
  <meta name="twitter:image" content=" ./images/heart-data.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="icon" type="image/png" href="./images/healthkit.png">
  <link rel="stylesheet" href="./styles/style.css">
  <link rel="stylesheet" href="./styles/prism.css">
</head>
<body>


  
<!-- partial:index.partial.html -->
<div class="section" id="home">
  <!-- <div class="oop"></div> -->
  <div class="fixed">
    <h1 class="large" style="backdrop-filter: blur(4px); 
    background-color: #fff6; border-radius: 10px; padding-top: 5px; padding-bottom: 5px;">Access HealthKit seamlessy and effortlessly with Expo and React Native</h1>
    <div style="border-radius: 5px;">
      <ul style="text-align: left; 
        list-style: none; display: flex;     
        padding-inline-start: 0px;
        flex-direction: column;
        gap: 10px;">
        <li>✅<span class="contrast-safe-text">Save, query and subscribe to all 100+ <b>Quantity Types</b></span></li>
        <li>✅<span class="contrast-safe-text">Save, query and subscribe to all 63+ <b>Category Types</b></span></li>
        <li>✅<span class="contrast-safe-text">Save, query and subscribe to all 75+ <b>Workout Types</b></span></li>
        <li>✅<span class="contrast-safe-text"><b>Developer Ergonomics</b>: TypeScript, Promises, Expo Plugin</span></li>
        <li>✅<span class="contrast-safe-text"><b>Future-proof</b> - by mapping closely to the Official APIs</span></li>
      </ul>
    </div>
  </div>
</div>
<div class="section" id="install">
  <div class="fixed">
    <h1 style="color: black;" style="user-select: none;">
      Install with <span class="toggle-expo-rn">Expo</span>
    </h1>
    <ol class="expo-only instructions">
      <li><p>Install dependency</p><div class="code-window">
        <pre><span class="toggle-package-manager">yarn</span> install @kingstinct/react-native-healthkit</pre>
        <div class="copy-code">
          Copy
          </div>
      </div></li>
      <li><p>Add config plugin</p>  <div class="code-window">
      
        <pre>{
  "expo": {
    "plugins": [
      "@kingstinct/react-native-healthkit"
    ]
  }
}</pre>
      
      <div class="copy-code">
      Copy
      </div>
    </div></li>
      <li>Build a new Dev Client</li>
    </ol>

    <ol class="rn-only instructions" style="display: none;"> 
      <li><p>Install dependency</p><div class="code-window">
        <pre><span class="toggle-package-manager">yarn</span> install @kingstinct/react-native-healthkit</pre>
        <div class="copy-code">
          Copy
          </div>
      </div></li>
      <li><p>Run pod install</p><div class="code-window">
        <pre>npx pod-install</pre>
        <div class="copy-code">
          Copy
          </div>
      </div></li>
      <li>
        Set NSHealthUpdateUsageDescription and NSHealthShareUsageDescription in your Info.plist
      </li>
      <li>Enable the HealthKit capability for the project in Xcode.</li>
      <li>Since this package is using Swift you might also need to add a bridging header in your project if you haven't already, you can find more about that in the <a href="https://reactnative.dev/docs/native-modules-ios#exporting-swift" target="_blank">official React Native docs</a></li>
    </ol>
    

   
  </div>
  
</div>
<div class="section" id="auth">
  <div class="p fixed">
    
      <pre  style="max-width: 768px; border-radius: 10px;backdrop-filter: blur(40px); opacity: 0.95;"><code class="language-tsx"> // request authorization

import { 
  Text, 
  Button,
  View
} from 'react-native';
import { 
  HKQuantityTypeIdentifier, 
  useHealthkitAuthorization 
} from '@kingstinct/react-native-healthkit';

export default () => {
  const [
    authorizationStatus, 
    requestAuthorization
  ] = useHealthkitAuthorization([
    HKQuantityTypeIdentifier.bloodGlucose
  ])

  return &lt;View>
    &lt;Text>Authorization Status: {authorizationStatus}&lt;/Text>
    &lt;Button 
      onPress={requestAuthorization} 
      title="Request Authorization" 
    />
  &lt;/View>
}</code></pre>
  </div>
</div>
<div class="section" id="data">
  <div class="p fixed">
    
      <pre style="max-width: 768px; border-radius: 10px;backdrop-filter: blur(40px); opacity: 0.95;"><code class="language-tsx">// get data 

import { 
  Text, 
  View
} from 'react-native';
import { 
  useMostRecentQuantitySample, 
  HKQuantityTypeIdentifier,
} from '@kingstinct/react-native-healthkit';

export default () => {
  const sample = useMostRecentQuantitySample(
    HKQuantityTypeIdentifier.bloodGlucose
  )

  return &lt;View>
    &lt;Text>Blood Glucose: {sample?.quantity}&lt;/Text>
  &lt;/View>
}</code></pre>
  </div>
</div>

<div style="position: fixed; padding-top: 20px; padding-bottom: 20px; padding-right: 20px; right: 0px; left: 0px; z-index: 9999999999; backdrop-filter: blur(4px); background-color: #fff5;">
  <div style="vertical-align: middle;">
    <a href="#home"><img src="./images/healthkit.png" style="width:10vw;height:7vw; margin-left: 10px;vertical-align: middle;">
    <div style="display:inline-block; vertical-align: middle;">
      <span style="vertical-align: middle; display:inline-block; font-size: 4vw; color: black;">@kingstinct/react-native-healthkit</span>
    </div>
    </a>
    <a href="https://github.com/kingstinct/react-native-healthkit" target="_blank">
      <img src="./images/github-mark-white.png" style="width:6.5vw;height:6.5vw; float: right; filter:invert(100%); vertical-align: middle;">
    </a>
  </div>
  <div class="tabs">
    <a href="#install">Install</a>
    <a href="#auth">Request Authorization</a>
    <a href="#data">Get Data</a>
  </div>
</div>
  <script>
    function init(){
      function toggleSelf(evt){
          this.innerHTML = this.innerHTML === 'npm' ? 'yarn' : this.innerHTML === 'yarn' ? 'pnpm' : 'npm'
        }

      document.querySelectorAll('.toggle-package-manager').forEach(el => {
        el.addEventListener('click', toggleSelf)
      })

      function toggleExpoRn(evt){
        const toggleToRN = this.innerHTML === 'Expo'
        this.innerHTML = toggleToRN ? 'React Native' : 'Expo'
        document.querySelectorAll('.rn-only').forEach(el => {
          el.style.display = toggleToRN ? 'block' : 'none'
        })
        document.querySelectorAll('.expo-only').forEach(el => {
          el.style.display = !toggleToRN ? 'block' : 'none'
        })
      }

      document.querySelectorAll('.toggle-expo-rn').forEach(el => {
        el.addEventListener('click', toggleExpoRn)
        
      })

      document.querySelectorAll('.copy-code').forEach(el => {
        el.addEventListener('click', function(evt) {
          this.innerHTML = ''
          let codeElement = this.parentElement
          while(!codeElement.classList.contains('code-window') && codeElement.parentElement){
            codeElement = codeElement.parentElement
          }
          let innerText = codeElement?.innerText
          if(innerText){
            this.innerHTML = '✅ Copied'
            navigator.clipboard.writeText(innerText)
          }
          setTimeout(() => {
            this.innerHTML = 'Copy'
          }, 1000)
        })
      })
    }
    init()
  </script>
  <script src="scripts/prism.js"></script>
</body>
</html>
